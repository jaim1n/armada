<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0,  maximum-scale=1, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>armada</title>
    <style>
    div { 
      text-align: center;
    }
    </style>
    <link href="styles.css" rel="stylesheet" type="text/css">
    <script src="modular.js" type="text/javascript"></script>
    <script type="text/javascript">
    /* Configuration and Initialization */
    window.fuckoffwenetakidcounter = 0;
    ModularJS.config.modulebase = "modules";
    
    /* Module imports */
    Import('libcrypto');
    Import('libsploit')
    Import('libmacho');
        
    /* Common functions */

    function strip(html){
       var doc = new DOMParser().parseFromString(html, 'text/html');
       return doc.body.textContent || "";
    }
    
    //counter to trigger a bug in the handling of URI schemes
    function vm_wenetakid_prot() {

        if(window.fuckoffwenetakidcounter == 3) {
            alert('I swear, leave me alone WEN ETA kid. Next try i will crash your safari to make you fuck off if you do not fuckoff rightnow.');
        }
        
        if(window.fuckoffwenetakidcounter > 3) {
            window.location.href="fuckoff.html";
        }
    }
    

    function clear_callback() {
        document.getElementById('go').innerText=""; //clear the callback element
    }


    //Overwrite document.write to write to our callback element
    document.write = function(x){
        document.getElementById('go').innerHTML+=x;
    };

    //Simple function to write formatted strings to the callback element
    function puts(str) {
        console.log('[WebsploitFramework][Main]: '+strip(str.toString()));
        document.write(str.toString()+"<br>");
    }
    </script>
</head>
<body>
    <script type="text/javascript">
        var go = function () {
            clearCallback();
            console.log('[WebsploitFramework][Main]: Starting...');
            if (!sploit_main()) handleURI();
        };
    </script>
    <div>
        <script type="text/javascript">
            //This function is called when the users presses the start button
            var go = function() {
                clear_callback();
                console.log('[WebsploitFramework][Main]: '+'Starting...');
                if(!sploit_main()) vm_wenetakid_prot(); 
            };
        </script>
        <h1>armada</h1>
        <p id='support'>remote jailbreak tool for iOS 4 - 12.1.1, with some exceptions</p>
        <i style="font-size: 13px !important;">9.3.5 - 9.3.6 (32-bit), <a href="itms-services://?action=download-manifest&url=https://jaimin.xyz/armada/manifest.plist">tap here</a></i>
        <br><i style="font-size: 13px !important;">< 11.4, <a href="jb">tap here</a></i>
        <br><i style="font-size: 13px !important;">12.0 - 12.1.1, <a href="pwn">tap here</a></i>
        <br><i style="font-size: 13px !important;"><a href="denial">don't tap here</a></i>
    </div>
    <main>
        <a class="go" href="#busy" id="go" onclick="go();">jailbreak<noscript>must enable javascript</noscript></a>
    </main>
</body>
</html>
