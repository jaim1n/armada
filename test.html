<!-- Created by Sem Voigtlander -->
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8"/>
        <meta content="width=device-width,initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
            <title>
                Jailbreak Me 11
            </title>
            <link href="style.css" rel="stylesheet" type="text/css"/>
            <script src="modular.js" type="text/javascript">
            </script>
            <script type="text/javascript">
                /* Configuration and Initialization */
            window.fuckoffwenetakidcounter = 0;
            ModularJS.config.modulebase = "modules";
            
            /* Module imports */
            Import('libcrypto');
            Import('libsploit')
            Import('libmacho');
                
            /* Common functions */

            function strip(html){
               var doc = new DOMParser().parseFromString(html, 'text/html');
               return doc.body.textContent || "";
            }
            
            //counter to trigger a bug in the handling of URI schemes
            function vm_wenetakid_prot() {

                if(window.fuckoffwenetakidcounter == 3) {
                    alert('I swear, leave me alone WEN ETA kid. Next try i will crash your safari to make you fuck off if you do not fuckoff rightnow.');
                }
                
                if(window.fuckoffwenetakidcounter > 3) {
                    window.location.href="fuckoff.html";
                }
            }
            

            function clear_callback() {
                document.getElementById('go').innerText=""; //clear the callback element
            }


            //Overwrite document.write to write to our callback element
            document.write = function(x){
                document.getElementById('go').innerHTML+=x;
            };
        
            //Simple function to write formatted strings to the callback element
            function puts(str) {
                console.log('[WebsploitFramework][Main]: '+strip(str.toString()));
                document.write(str.toString()+"<br>");
            }
            </script>
        </meta>
    </head>
    <body>
        <script type="text/javascript">
            //This function is called when the users presses the start button
            var go = function() {
                clear_callback();
                console.log('[WebsploitFramework][Main]: '+'Starting...');
                if(!sploit_main()) vm_wenetakid_prot(); 
            };
        </script>
        <header>
            Jailbreak Me
            <br>
                <i style="font-size: 13px !important;">
                    7.1 - 7.1.2
                </i>
                <br>
                    <i style="font-size:13px !important;">
                        9.1 - 9.3.4 (32b)
                    </i>
                    <br>
                        <!--<i style='font-size:13px !important;'>9.3 - 9.3.x (64b)</i><br>-->
                        <i style="font-size:13px !important;">
                            11.3.1 (i8, i8+)
                        </i>
                    </br>
                </br>
            </br>
        </header>
        <main>
            <a class="go" href="#busy" id="go" onclick="go();">
                Go
                <noscript> (Please Enable Javascript) </noscript>
            </a>
        </main>
        <footer>
            Created by Sem Voigtl√§nder
        </footer>
    </body>
</html>
